<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>FIFA Results — BSA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-900">
  <div class="max-w-5xl mx-auto p-4">
    <a href="./" class="text-sm underline">← All Results</a>

    <h1 class="text-3xl font-semibold mt-4" id="title">FIFA</h1>
    <p class="mt-1 text-gray-700" id="meta"></p>

    <!-- Summary -->
    <div class="mt-6 space-y-2">
      <div id="winners" class="text-lg"></div>
      <div id="runners" class="text-lg"></div>
      <div id="score" class="text-sm text-gray-700"></div>
    </div>

    <!-- Photos -->
    <h2 class="text-xl font-semibold mt-8">Photos</h2>
    <div id="gallery" class="mt-3 grid grid-cols-2 md:grid-cols-3 gap-3"></div>

    <!-- Participants -->
    <h2 class="text-xl font-semibold mt-8">Participants</h2>
    <ul id="participants" class="mt-3 list-disc list-inside text-sm"></ul>
  </div>

  <script>
    async function loadJSON(p){
      try { const r = await fetch(p, { cache: 'no-store' }); return r.ok ? await r.json() : null; }
      catch { return null; }
    }

    (async () => {
      const d = await loadJSON('../data/results/fifa.json');
      if (!d) return;

      // Header/meta
      document.getElementById('title').textContent = d.meta?.title || 'FIFA';
      document.getElementById('meta').textContent  = [d.meta?.date, d.meta?.location].filter(Boolean).join(' • ');

      // Summary
      if (d.winners) {
        const val = Array.isArray(d.winners) ? d.winners.join(', ') : d.winners;
        document.getElementById('winners').innerHTML = `<b>Winners:</b> ${val}`;
      }
      if (d.runners_up) {
        const val = Array.isArray(d.runners_up) ? d.runners_up.join(', ') : d.runners_up;
        document.getElementById('runners').innerHTML = `<b>Runners-up:</b> ${val}`;
      }
      if (d.score) {
        document.getElementById('score').textContent = d.score;
      }

      // Photos
      const g = document.getElementById('gallery');
      (d.photos || []).forEach(src => {
        const a = document.createElement('a');
        a.href = src; a.target = "_blank";
        a.className = "block border rounded-xl overflow-hidden";
        a.innerHTML = `<img src="${src}" alt="" class="w-full h-40 object-cover">`;
        g.appendChild(a);
      });

      // Participants
      if (Array.isArray(d.participants) && d.participants.length) {
        const list = document.getElementById('participants');
        d.participants.forEach(name => {
          const li = document.createElement('li');
          li.textContent = name;
          list.appendChild(li);
        });
      }
    })();
  </script>
</body>
</html>
